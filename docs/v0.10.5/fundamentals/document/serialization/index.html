<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

<meta property="og:title" content="Serialization" />
  
<meta property="og:type" content="website" />
  
<meta property="og:url" content="https://docarray.jina.ai/fundamentals/document/serialization/" />
  
<meta property="og:site_name" content="DocArray 0.10.5 Documentation" />
  
<meta property="og:description" content="DocArray is designed to be “ready-to-wire”: it assumes you always want to send/receive Document over network across microservices. Hence, serialization of Document is important. This chapter introduces multiple serialization methods of a single Document. From/to JSON: You can serialize a Document..." />
  
<meta property="og:image" content="https://docarray.jina.ai/_static/banner.png" />
  
<meta property="og:image:alt" content="DocArray 0.10.5 Documentation" />
  
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@JinaAI_">
<meta name="twitter:creator" content="@JinaAI_">
<meta name="description" content="DocArray is a library for nested, unstructured data such as text, image, audio, video, 3D mesh.">
<meta property="og:description" content="DocArray is a library for nested, unstructured data such as text, image, audio, video, 3D mesh. It allows deep learning engineers to easily preprocess, embed, search, recommend and transfer the data.">

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-48WE9V68SD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-48WE9V68SD');
</script>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    <link rel="index" title="Index" href="../../../genindex/" /><link rel="search" title="Search" href="../../../search/" /><link rel="next" title="Access Attributes" href="../attribute/" /><link rel="prev" title="Construct" href="../construct/" />
        <link rel="canonical" href="https://docarray.jina.ai/fundamentals/document/serialization.html" />

    <link rel="shortcut icon" href="../../../_static/favicon.png"/><meta name="generator" content="sphinx-4.5.0, furo 2022.09.29"/>
        <title>Serialization - DocArray 0.10.5 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/main.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: #4d4d4d;
  --color-brand-primary: #009191;
  --color-brand-content: #009191;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #FBCB67;
  --color-brand-content: #FBCB67;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #FBCB67;
  --color-brand-content: #FBCB67;
  
      }
    }
  }
</style></head>
  <body>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
    <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
    <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
    <header class="mobile-header" id="mobile-header">
        <div class="header-left">
            <label class="nav-overlay-icon" for="__navigation">
                <div class="visually-hidden">Toggle site navigation sidebar</div>
                <i class="icon">
                    <svg>
                        <use href="#svg-menu"></use>
                    </svg>
                </i>
            </label>
        </div>
        <div class="header-center">
            <a href="../../../">
                <div class="brand">DocArray 0.10.5 documentation</div>
            </a>
        </div>
        <div class="header-right">
            <div class="theme-toggle-container theme-toggle-header">
                <button class="theme-toggle">
                    <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
                    <svg class="theme-icon-when-auto">
                        <use href="#svg-sun-half"></use>
                    </svg>
                    <svg class="theme-icon-when-dark">
                        <use href="#svg-moon"></use>
                    </svg>
                    <svg class="theme-icon-when-light">
                        <use href="#svg-sun"></use>
                    </svg>
                </button>
            </div>
            <label class="toc-overlay-icon toc-header-icon" for="__toc">
                <div class="visually-hidden">Toggle table of contents sidebar</div>
                <i class="icon">
                    <svg>
                        <use href="#svg-toc"></use>
                    </svg>
                </i>
            </label>
        </div>
    </header>
    <aside class="sidebar-drawer" id="sidebar-drawer">
        <div class="sidebar-container">
            
            <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/logo-light.svg" alt="Light Logo" />
    <img class="sidebar-logo only-dark" src="../../../_static/logo-dark.svg" alt="Dark Logo" />
  </div>
  
  
</a>
<script>
  function setPrefix(prefix){
    window.sessionStorage.setItem("version-select-index", document.getElementsByClassName("version-select")[0].selectedIndex);
    window.location.href = prefix
  }
</script>
<script defer>
  fetch(`https://${window.location.host}/_versions.json`)
  .then((resp) => resp.json())
  .then((data) => {
    var versionSelector = document.getElementsByClassName("version-select")[0]
    for(var i = 0; i < data.length; i++){
      var option = document.createElement("option");
      option.innerHTML = data[i].version;
      option.value = "/" + data[i].version;
      versionSelector.appendChild(option);
    }

    if(window.sessionStorage.getItem('version-select-index')){
      versionSelector.selectedIndex = window.sessionStorage.getItem('version-select-index');
    }
  })
  .catch((err) => console.log(err));
</script>
<div class="sd-d-flex-row sd-align-major-spaced">
  <a class="github-button" href="https://github.com/jina-ai/docarray" data-icon="octicon-star" data-show-count="true" aria-label="Star jina-ai/jina on GitHub" style="opacity: 0;">Star</a>
  <select onChange="setPrefix(this.value)" class="version-select">
    <option value="/">latest</option>
  </select>
</div><form class="sidebar-search-container" method="get" action="../../../search/" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
    <p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../get-started/what-is/">What is DocArray?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../get-started/what-is/#comparing-to-alternatives">Comparing to Alternatives</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guides</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../">Document</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../construct/">Construct</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../attribute/">Access Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../embedding/">Embedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nested/">Nested Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualization/">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fluent-interface/">Fluent Interface</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../documentarray/">DocumentArray</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../documentarray/construct/">Construct</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentarray/serialization/">Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentarray/access-elements/">Access Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentarray/access-attributes/">Access Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentarray/embedding/">Embed via Neural Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentarray/find/">Query by Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentarray/matching/">Match Nearest Neighbours</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentarray/evaluation/">Evaluate Matches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentarray/parallelization/">Parallelization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentarray/visualization/">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../documentarray/post-external/">Process via External Flow or Executor</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../datatypes/">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../datatypes/text/"><svg aria-hidden="true" class="sd-octicon sd-octicon-typography" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M6.21 8.5L4.574 3.594 2.857 8.5H6.21zm.5 1.5l.829 2.487a.75.75 0 001.423-.474L5.735 2.332a1.216 1.216 0 00-2.302-.018l-3.39 9.688a.75.75 0 001.415.496L2.332 10H6.71zm3.13-4.358C10.53 4.374 11.87 4 13 4c1.5 0 3 .939 3 2.601v5.649a.75.75 0 01-1.448.275C13.995 12.82 13.3 13 12.5 13c-.77 0-1.514-.231-2.078-.709-.577-.488-.922-1.199-.922-2.041 0-.694.265-1.411.887-1.944C11 7.78 11.88 7.5 13 7.5h1.5v-.899c0-.54-.5-1.101-1.5-1.101-.869 0-1.528.282-1.84.858a.75.75 0 11-1.32-.716zM14.5 9H13c-.881 0-1.375.22-1.637.444-.253.217-.363.5-.363.806 0 .408.155.697.39.896.249.21.63.354 1.11.354.732 0 1.26-.209 1.588-.449.35-.257.412-.495.412-.551V9z" fill-rule="evenodd"></path></svg> Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../datatypes/image/"><svg aria-hidden="true" class="sd-octicon sd-octicon-image" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M1.75 2.5a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h.94a.76.76 0 01.03-.03l6.077-6.078a1.75 1.75 0 012.412-.06L14.5 10.31V2.75a.25.25 0 00-.25-.25H1.75zm12.5 11H4.81l5.048-5.047a.25.25 0 01.344-.009l4.298 3.889v.917a.25.25 0 01-.25.25zm1.75-.25V2.75A1.75 1.75 0 0014.25 1H1.75A1.75 1.75 0 000 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0016 13.25zM5.5 6a.5.5 0 11-1 0 .5.5 0 011 0zM7 6a2 2 0 11-4 0 2 2 0 014 0z" fill-rule="evenodd"></path></svg> Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../datatypes/video/"><svg aria-hidden="true" class="sd-octicon sd-octicon-device-camera-video" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M16 3.75a.75.75 0 00-1.136-.643L11 5.425V4.75A1.75 1.75 0 009.25 3h-7.5A1.75 1.75 0 000 4.75v6.5C0 12.216.784 13 1.75 13h7.5A1.75 1.75 0 0011 11.25v-.675l3.864 2.318A.75.75 0 0016 12.25v-8.5zm-5 5.075l3.5 2.1v-5.85l-3.5 2.1v1.65zM9.5 6.75v-2a.25.25 0 00-.25-.25h-7.5a.25.25 0 00-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-4.5z" fill-rule="evenodd"></path></svg> Video</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../datatypes/audio/"><svg aria-hidden="true" class="sd-octicon sd-octicon-unmute" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M7.563 2.069A.75.75 0 018 2.75v10.5a.75.75 0 01-1.238.57L3.472 11H1.75A1.75 1.75 0 010 9.25v-2.5C0 5.784.784 5 1.75 5h1.723l3.289-2.82a.75.75 0 01.801-.111zM6.5 4.38L4.238 6.319a.75.75 0 01-.488.181h-2a.25.25 0 00-.25.25v2.5c0 .138.112.25.25.25h2a.75.75 0 01.488.18L6.5 11.62V4.38zm6.096-2.038a.75.75 0 011.06 0 8 8 0 010 11.314.75.75 0 01-1.06-1.06 6.5 6.5 0 000-9.193.75.75 0 010-1.06v-.001zm-1.06 2.121a.75.75 0 10-1.061 1.061 3.5 3.5 0 010 4.95.75.75 0 101.06 1.06 5 5 0 000-7.07l.001-.001z" fill-rule="evenodd"></path></svg> Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../datatypes/mesh/"><svg aria-hidden="true" class="sd-octicon sd-octicon-package" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M8.878.392a1.75 1.75 0 00-1.756 0l-5.25 3.045A1.75 1.75 0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75 0 001.756 0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25 0 01.25 0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271l4.625-2.683a.25.25 0 00.125-.216V5.677L8.75 8.432v5.516z" fill-rule="evenodd"></path></svg> 3D Mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../datatypes/tabular/"><svg aria-hidden="true" class="sd-octicon sd-octicon-table" height="1.0em" version="1.1" viewbox="0 0 16 16" width="1.0em"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v3.585a.746.746 0 010 .83v8.085A1.75 1.75 0 0114.25 16H6.309a.748.748 0 01-1.118 0H1.75A1.75 1.75 0 010 14.25V6.165a.746.746 0 010-.83V1.75zM1.5 6.5v7.75c0 .138.112.25.25.25H5v-8H1.5zM5 5H1.5V1.75a.25.25 0 01.25-.25H5V5zm1.5 1.5v8h7.75a.25.25 0 00.25-.25V6.5h-8zm8-1.5h-8V1.5h7.75a.25.25 0 01.25.25V5z" fill-rule="evenodd"></path></svg> Table</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Integrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../jina-support/">Jina</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebook-support/">Jupyter Notebook/Colab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fastapi-support/">FastAPI/Pydantic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced/graphql-support/">GraphQL</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../advanced/document-store/">Document Store</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/document-store/weaviate/">Weaviate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/document-store/sqlite/">SQLite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/document-store/qdrant/">Qdrant</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/document-store/annlite/">Annlite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/document-store/elasticsearch/">Elasticsearch</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer References</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/docarray/">docarray package</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/docarray.array/">docarray.array package</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/docarray.array.mixins/">docarray.array.mixins package</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/docarray.array.mixins.io/">docarray.array.mixins.io package</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.mixins.io.binary/">docarray.array.mixins.io.binary module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.mixins.io.common/">docarray.array.mixins.io.common module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.mixins.io.csv/">docarray.array.mixins.io.csv module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.mixins.io.dataframe/">docarray.array.mixins.io.dataframe module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.mixins.io.from_gen/">docarray.array.mixins.io.from_gen module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.mixins.io.json/">docarray.array.mixins.io.json module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.mixins.io.pbar/">docarray.array.mixins.io.pbar module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.mixins.io.pushpull/">docarray.array.mixins.io.pushpull module</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.content/">docarray.array.mixins.content module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.delitem/">docarray.array.mixins.delitem module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.embed/">docarray.array.mixins.embed module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.empty/">docarray.array.mixins.empty module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.evaluation/">docarray.array.mixins.evaluation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.find/">docarray.array.mixins.find module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.getattr/">docarray.array.mixins.getattr module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.getitem/">docarray.array.mixins.getitem module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.group/">docarray.array.mixins.group module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.match/">docarray.array.mixins.match module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.parallel/">docarray.array.mixins.parallel module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.plot/">docarray.array.mixins.plot module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.post/">docarray.array.mixins.post module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.pydantic/">docarray.array.mixins.pydantic module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.reduce/">docarray.array.mixins.reduce module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.sample/">docarray.array.mixins.sample module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.setitem/">docarray.array.mixins.setitem module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.strawberry/">docarray.array.mixins.strawberry module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.text/">docarray.array.mixins.text module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.mixins.traverse/">docarray.array.mixins.traverse module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/docarray.array.queryset/">docarray.array.queryset package</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.queryset.lookup/">docarray.array.queryset.lookup module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.queryset.parser/">docarray.array.queryset.parser module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/docarray.array.storage/">docarray.array.storage package</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/docarray.array.storage.annlite/">docarray.array.storage.annlite package</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.annlite.backend/">docarray.array.storage.annlite.backend module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.annlite.find/">docarray.array.storage.annlite.find module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.annlite.getsetdel/">docarray.array.storage.annlite.getsetdel module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.annlite.helper/">docarray.array.storage.annlite.helper module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.annlite.seqlike/">docarray.array.storage.annlite.seqlike module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/docarray.array.storage.base/">docarray.array.storage.base package</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.base.backend/">docarray.array.storage.base.backend module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.base.getsetdel/">docarray.array.storage.base.getsetdel module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.base.helper/">docarray.array.storage.base.helper module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.base.seqlike/">docarray.array.storage.base.seqlike module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/docarray.array.storage.elastic/">docarray.array.storage.elastic package</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.elastic.backend/">docarray.array.storage.elastic.backend module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.elastic.find/">docarray.array.storage.elastic.find module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.elastic.getsetdel/">docarray.array.storage.elastic.getsetdel module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.elastic.seqlike/">docarray.array.storage.elastic.seqlike module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/docarray.array.storage.memory/">docarray.array.storage.memory package</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.memory.backend/">docarray.array.storage.memory.backend module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.memory.find/">docarray.array.storage.memory.find module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.memory.getsetdel/">docarray.array.storage.memory.getsetdel module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.memory.seqlike/">docarray.array.storage.memory.seqlike module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/docarray.array.storage.qdrant/">docarray.array.storage.qdrant package</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.qdrant.backend/">docarray.array.storage.qdrant.backend module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.qdrant.find/">docarray.array.storage.qdrant.find module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.qdrant.getsetdel/">docarray.array.storage.qdrant.getsetdel module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.qdrant.helper/">docarray.array.storage.qdrant.helper module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.qdrant.seqlike/">docarray.array.storage.qdrant.seqlike module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/docarray.array.storage.sqlite/">docarray.array.storage.sqlite package</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.sqlite.backend/">docarray.array.storage.sqlite.backend module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.sqlite.getsetdel/">docarray.array.storage.sqlite.getsetdel module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.sqlite.helper/">docarray.array.storage.sqlite.helper module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.sqlite.seqlike/">docarray.array.storage.sqlite.seqlike module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/docarray.array.storage.weaviate/">docarray.array.storage.weaviate package</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.weaviate.backend/">docarray.array.storage.weaviate.backend module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.weaviate.find/">docarray.array.storage.weaviate.find module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.weaviate.getsetdel/">docarray.array.storage.weaviate.getsetdel module</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/docarray.array.storage.weaviate.seqlike/">docarray.array.storage.weaviate.seqlike module</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.array.storage.registry/">docarray.array.storage.registry module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.array.annlite/">docarray.array.annlite module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.array.base/">docarray.array.base module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.array.chunk/">docarray.array.chunk module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.array.document/">docarray.array.document module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.array.elastic/">docarray.array.elastic module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.array.match/">docarray.array.match module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.array.memory/">docarray.array.memory module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.array.qdrant/">docarray.array.qdrant module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.array.sqlite/">docarray.array.sqlite module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.array.weaviate/">docarray.array.weaviate module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/docarray.document/">docarray.document package</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/docarray.document.mixins/">docarray.document.mixins package</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.attribute/">docarray.document.mixins.attribute module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.audio/">docarray.document.mixins.audio module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.blob/">docarray.document.mixins.blob module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.content/">docarray.document.mixins.content module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.convert/">docarray.document.mixins.convert module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.dump/">docarray.document.mixins.dump module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.featurehash/">docarray.document.mixins.featurehash module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.helper/">docarray.document.mixins.helper module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.image/">docarray.document.mixins.image module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.mesh/">docarray.document.mixins.mesh module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.multimodal/">docarray.document.mixins.multimodal module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.plot/">docarray.document.mixins.plot module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.porting/">docarray.document.mixins.porting module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.property/">docarray.document.mixins.property module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.protobuf/">docarray.document.mixins.protobuf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.pydantic/">docarray.document.mixins.pydantic module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.rich_embedding/">docarray.document.mixins.rich_embedding module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.strawberry/">docarray.document.mixins.strawberry module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.sugar/">docarray.document.mixins.sugar module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.text/">docarray.document.mixins.text module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.document.mixins.video/">docarray.document.mixins.video module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.document.data/">docarray.document.data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.document.generators/">docarray.document.generators module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.document.pydantic_model/">docarray.document.pydantic_model module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.document.strawberry_type/">docarray.document.strawberry_type module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/docarray.math/">docarray.math package</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/docarray.math.distance/">docarray.math.distance package</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.math.distance.numpy/">docarray.math.distance.numpy module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.math.distance.paddle/">docarray.math.distance.paddle module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.math.distance.tensorflow/">docarray.math.distance.tensorflow module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.math.distance.torch/">docarray.math.distance.torch module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.math.evaluation/">docarray.math.evaluation module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.math.helper/">docarray.math.helper module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.math.ndarray/">docarray.math.ndarray module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/docarray.proto/">docarray.proto package</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/docarray.proto.io/">docarray.proto.io package</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.proto.io.ndarray/">docarray.proto.io.ndarray module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.proto.docarray_pb2/">docarray.proto.docarray_pb2 module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/docarray.score/">docarray.score package</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/docarray.score.mixins/">docarray.score.mixins package</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.score.mixins.property/">docarray.score.mixins.property module</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/docarray.score.mixins.representer/">docarray.score.mixins.representer module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.score.data/">docarray.score.data module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/docarray.types/">docarray.types package</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.types.deserializers/">docarray.types.deserializers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.types.multimodal/">docarray.types.multimodal module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/docarray.types.serializers/">docarray.types.serializers module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/docarray.base/">docarray.base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/docarray.helper/">docarray.helper module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../proto/">Protocol Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog/">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced/document-store/extend/">Add New Document Store</a></li>
</ul>

    <p class="caption" role="heading"><span class="caption-text">Ecosystem</span></p>
    <ul>
        <li class="toctree-l1">
            <a class="reference external" href="https://docs.jina.ai">
                <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/search-light.svg">
                <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/search-dark.svg">
                Jina</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://hub.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/hub-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/hub-dark.svg">
            Jina Hub</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://finetuner.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/finetuner-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/finetuner-dark.svg">
            Finetuner</a></li>
        <li class="toctree-l1"><a class="reference internal" href="#">
            <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/docarray-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/docarray-dark.svg">
            DocArray</a></li>
        <li class="toctree-l1"><a class="reference external" href="https://clip-as-service.jina.ai">
            <img class="sidebar-ecosys-logo only-light-line" src="../../../_static/cas-light.svg">
            <img class="sidebar-ecosys-logo only-dark-line" src="../../../_static/cas-dark.svg">
            CLIP-as-service</a></li>
    </ul>
</div>
</div>

            </div>
            
        </div>
    </aside>
    <div class="main">
        <div class="content">
            <article role="main">
                <div class="content-icon-container">
                    <div class="theme-toggle-container theme-toggle-content">
                        <button class="theme-toggle">
                            <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
                            <svg class="theme-icon-when-auto">
                                <use href="#svg-sun-half"></use>
                            </svg>
                            <svg class="theme-icon-when-dark">
                                <use href="#svg-moon"></use>
                            </svg>
                            <svg class="theme-icon-when-light">
                                <use href="#svg-sun"></use>
                            </svg>
                        </button>
                    </div>
                    <label class="toc-overlay-icon toc-content-icon"
                           for="__toc">
                        <div class="visually-hidden">Toggle table of contents sidebar</div>
                        <i class="icon">
                            <svg>
                                <use href="#svg-toc"></use>
                            </svg>
                        </i>
                    </label>
                </div>
                <section class="tex2jax_ignore mathjax_ignore" id="serialization">
<span id="serialize"></span><h1>Serialization<a class="headerlink" href="#serialization" title="Permalink to this headline">#</a></h1>
<p>DocArray is designed to be “ready-to-wire”: it assumes you always want to send/receive Document over network across microservices. Hence, serialization of Document is important. This chapter introduces multiple serialization methods of a single Document.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>One should use <a class="reference internal" href="../../documentarray/serialization/#docarray-serialization"><span class="std std-ref">DocumentArray for serializing multiple Documents</span></a>, instead of looping over Documents one by one. The former is much faster and yield more compact serialization.</p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Some readers may wonder: why aren’t serialization a part of constructor? They do have similarity. Nonetheless, serialization often contains elements that do not really fit into constructor: input &amp; output model, data schema, compression, extra-dependencies. DocArray made a decision to separate the constructor and serialization for the sake of clarity and maintainability.</p>
</div>
<section id="from-to-json">
<span id="doc-json"></span><h2>From/to JSON<a class="headerlink" href="#from-to-json" title="Permalink to this headline">#</a></h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you are building a webservice and want to use JSON for passing DocArray objects, then data validation and field-filtering can be crucial. In this case, it is highly recommended to check out <a class="reference internal" href="../../fastapi-support/#fastapi-support"><span class="std std-ref">FastAPI/Pydantic</span></a> and follow the methods there.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Depending on which protocol you use, this feature requires <code class="docutils literal notranslate"><span class="pre">pydantic</span></code> or <code class="docutils literal notranslate"><span class="pre">protobuf</span></code> dependency. You can do <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">&quot;docarray[full]&quot;</span></code> to install it.</p>
</div>
<p>You can serialize a Document as a JSON string via <a class="reference internal" href="../../../api/docarray.document.mixins.porting/#docarray.document.mixins.porting.PortingMixin.to_json" title="docarray.document.mixins.porting.PortingMixin.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_json()</span></code></a>, and then read from it via <a class="reference internal" href="../../../api/docarray.document.mixins.porting/#docarray.document.mixins.porting.PortingMixin.from_json" title="docarray.document.mixins.porting.PortingMixin.from_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_json()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docarray</span> <span class="kn">import</span> <span class="n">Document</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">d_as_json</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello, world&#39;</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">d_as_json</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">d_as_json</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{&quot;id&quot;: &quot;641032d677b311ecb67a1e008a366d49&quot;, &quot;parent_id&quot;: null, &quot;granularity&quot;: null, &quot;adjacency&quot;: null, &quot;blob&quot;: null, &quot;tensor&quot;: null, &quot;mime_type&quot;: &quot;text/plain&quot;, &quot;text&quot;: &quot;hello, world&quot;, &quot;weight&quot;: null, &quot;uri&quot;: null, &quot;tags&quot;: null, &quot;offset&quot;: null, &quot;location&quot;: null, &quot;embedding&quot;: [1, 2, 3], &quot;modality&quot;: null, &quot;evaluations&quot;: null, &quot;scores&quot;: null, &quot;chunks&quot;: null, &quot;matches&quot;: null} 

&lt;Document (&#39;id&#39;, &#39;mime_type&#39;, &#39;text&#39;, &#39;embedding&#39;) at 641032d677b311ecb67a1e008a366d49&gt;
</pre></div>
</div>
<p>By default, it uses <a class="reference internal" href="../../fastapi-support/#schema-gen"><span class="std std-ref">JSON Schema and pydantic model</span></a> for serialization, i.e. <code class="docutils literal notranslate"><span class="pre">protocol='jsonschema'</span></code>. You can switch the method to <code class="docutils literal notranslate"><span class="pre">protocol='protobuf'</span></code>, which leverages Protobuf as the JSON serialization backend.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docarray</span> <span class="kn">import</span> <span class="n">Document</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello, world&#39;</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
<span class="n">d</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s1">&#39;protobuf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;db66bc2e77b311eca5f51e008a366d49&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hello, world&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;mimeType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text/plain&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;embedding&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;dense&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;buffer&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AQAAAAAAAAACAAAAAAAAAAMAAAAAAAAA&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;shape&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="mi">3</span><span class="w"></span>
<span class="w">      </span><span class="p">],</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;dtype&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;i8&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;clsName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;numpy&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>When using it for REST API, it is recommended to use <code class="docutils literal notranslate"><span class="pre">protocol='jsonschema'</span></code> as the resulted JSON will follow a pre-defined schema. This is highly appreciated for modern webservice engineering.</p>
<p>Note that you can pass extra arguments to control the include/exclude fields, lower/uppercase of the resulted JSON. For example, we can remove those fields that are empty or <code class="docutils literal notranslate"><span class="pre">none</span></code> from JSON via:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docarray</span> <span class="kn">import</span> <span class="n">Document</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello, world&#39;</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">d</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdbc4f7a77b411ec96ad1e008a366d49&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;mime_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text/plain&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hello, world&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;embedding&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]}</span><span class="w"></span>
</pre></div>
</div>
<p>It is easier to eyes. But when building REST API, you do not need to explicitly do this, pydantic model handle everything for you. More information can be found in <a class="reference internal" href="../../fastapi-support/#fastapi-support"><span class="std std-ref">FastAPI/Pydantic</span></a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>To find out what extra parameters you can pass to <code class="docutils literal notranslate"><span class="pre">to_json()</span></code>/<code class="docutils literal notranslate"><span class="pre">to_dict()</span></code>, please check out:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pydantic-docs.helpmanual.io/usage/exporting_models/#modeljson"><code class="docutils literal notranslate"><span class="pre">protocol='jsonschema',</span> <span class="pre">**kwargs</span></code></a></p></li>
<li><p><a class="reference external" href="https://googleapis.dev/python/protobuf/latest/google/protobuf/json_format.html#google.protobuf.json_format.MessageToJson"><code class="docutils literal notranslate"><span class="pre">protocol='protobuf',</span> <span class="pre">**kwargs</span></code></a></p></li>
</ul>
</div>
<section id="from-to-arbitrary-json">
<span id="arbitrary-json"></span><h3>From/to arbitrary JSON<a class="headerlink" href="#from-to-arbitrary-json" title="Permalink to this headline">#</a></h3>
<p>Arbitrary JSON is unschema-ed JSON. It often comes from a handcrafted JSON, or an export file from other libraries. Its schema is unknown to DocArray, so by principle we can not load it.</p>
<p>But load it, we do. To load an arbitrary JSON file set <code class="docutils literal notranslate"><span class="pre">protocol=None</span></code>.</p>
<p>As an <em>arbitrary</em> JSON, you should not expect it always works smoothly. DocArray will try its best reasonable effort to parse its fields: by first loading the JSON into a <code class="docutils literal notranslate"><span class="pre">dict</span></code> object; and then building a Document via <code class="docutils literal notranslate"><span class="pre">Document(dict)</span></code>; when encountering unknown attributes it follows the behavior <a class="reference internal" href="../construct/#unk-attribute"><span class="std std-ref">described here</span></a>.</p>
<p>Rule of thumb, if you only work inside DocArray’s ecosystem, please always prefer schema-ed JSON (<code class="docutils literal notranslate"><span class="pre">.to_json(protocol='jsonschema')</span></code>, or <code class="docutils literal notranslate"><span class="pre">.to_json(protocol='protobuf')</span></code>) over unschema-ed JSON. If you are exporting DocArray’s JSON to other ecosystems, also prefer schema-ed JSON. Your engineer friends will appreciate it as it is easier for integration. In fact, DocArray does <strong>not</strong> unschema-ed JSON export, and your engineer friends will never be upset.</p>
<p>Read more about <a class="reference internal" href="../../fastapi-support/#schema-gen"><span class="std std-ref">JSON Schema</span></a> support in DocArray.</p>
</section>
</section>
<section id="from-to-bytes">
<span id="doc-in-bytes"></span><h2>From/to bytes<a class="headerlink" href="#from-to-bytes" title="Permalink to this headline">#</a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Depending on your values of <code class="docutils literal notranslate"><span class="pre">protocol</span></code> and <code class="docutils literal notranslate"><span class="pre">compress</span></code> arguments, this feature may require <code class="docutils literal notranslate"><span class="pre">protobuf</span></code> and <code class="docutils literal notranslate"><span class="pre">lz4</span></code> dependencies. You can do <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">&quot;docarray[full]&quot;</span></code> to install it.</p>
</div>
<p>Bytes or binary or buffer, how ever you want to call it, it probably the most common &amp; compact wire format. DocArray provides <a class="reference internal" href="../../../api/docarray.document.mixins.porting/#docarray.document.mixins.porting.PortingMixin.to_bytes" title="docarray.document.mixins.porting.PortingMixin.to_bytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_bytes()</span></code></a> and <a class="reference internal" href="../../../api/docarray.document.mixins.porting/#docarray.document.mixins.porting.PortingMixin.from_bytes" title="docarray.document.mixins.porting.PortingMixin.from_bytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_bytes()</span></code></a> to serialize Document object into bytes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docarray</span> <span class="kn">import</span> <span class="n">Document</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello, world&#39;</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
<span class="n">d_bytes</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">()</span>

<span class="n">d_r</span> <span class="o">=</span> <span class="n">Document</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">d_bytes</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">d_bytes</span><span class="p">,</span> <span class="n">d_r</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>b&#39;\x80\x03cdocarray.document\nDocument\nq\x00)\x81q\x01}q\x02X\x05\x00\x00\x00_dataq\x03cdocarray.document.data\nDocumentData\nq\x04)\x81q\x05}q\x06(X\x0e\x00\x00\x00_reference_docq\x07h\x01X\x02\x00\x00\x00idq\x08X \x00\x00\x005d29a9f26d5911ec88d51e008a366d49q\tX\t\x00\x00\x00parent_...

&lt;Document (&#39;id&#39;, &#39;mime_type&#39;, &#39;text&#39;, &#39;embedding&#39;) at 3644c0fa6d5a11ecbb081e008a366d49&gt;
</pre></div>
</div>
<p>Default serialization protocol is <code class="docutils literal notranslate"><span class="pre">pickle</span></code>, you can change it to <code class="docutils literal notranslate"><span class="pre">protobuf</span></code> by specifying <code class="docutils literal notranslate"><span class="pre">.to_bytes(protocol='protobuf')</span></code>. You can also add compression to it and make the result bytes smaller. For example,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello, world&#39;</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s1">&#39;protobuf&#39;</span><span class="p">,</span> <span class="n">compress</span><span class="o">=</span><span class="s1">&#39;gzip&#39;</span><span class="p">)))</span>
</pre></div>
</div>
<p>gives:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>110
</pre></div>
</div>
<p>whereas the default <code class="docutils literal notranslate"><span class="pre">.to_bytes()</span></code> gives <code class="docutils literal notranslate"><span class="pre">666</span></code> (spooky~).</p>
<p>Note that when deserializing from a non-default binary serialization, you need to specify the correct <code class="docutils literal notranslate"><span class="pre">protocol</span></code> and <code class="docutils literal notranslate"><span class="pre">compress</span></code> arguments used at the serialization time:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">d_bytes</span><span class="p">,</span> <span class="n">protocol</span><span class="o">=</span><span class="s1">&#39;protobuf&#39;</span><span class="p">,</span> <span class="n">compress</span><span class="o">=</span><span class="s1">&#39;gzip&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you go with default <code class="docutils literal notranslate"><span class="pre">protcol</span></code> and <code class="docutils literal notranslate"><span class="pre">compress</span></code> settings, you can simply use <code class="docutils literal notranslate"><span class="pre">bytes(d)</span></code>, which is more Pythonic.</p>
</div>
</section>
<section id="from-to-base64">
<h2>From/to base64<a class="headerlink" href="#from-to-base64" title="Permalink to this headline">#</a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Depending on your values of <code class="docutils literal notranslate"><span class="pre">protocol</span></code> and <code class="docutils literal notranslate"><span class="pre">compress</span></code> arguments, this feature may require <code class="docutils literal notranslate"><span class="pre">protobuf</span></code> and <code class="docutils literal notranslate"><span class="pre">lz4</span></code> dependencies. You can do <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">&quot;docarray[full]&quot;</span></code> to install it.</p>
</div>
<p>In some cases such as in REST API, you are allowed only to send/receive string not bytes. You can serialize Document into base64 string via <a class="reference internal" href="../../../api/docarray.document.mixins.porting/#docarray.document.mixins.porting.PortingMixin.to_base64" title="docarray.document.mixins.porting.PortingMixin.to_base64"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_base64()</span></code></a> and load it via <a class="reference internal" href="../../../api/docarray.document.mixins.porting/#docarray.document.mixins.porting.PortingMixin.from_base64" title="docarray.document.mixins.porting.PortingMixin.from_base64"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_base64()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docarray</span> <span class="kn">import</span> <span class="n">Document</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">to_base64</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>gANjZG9jYXJyYXkuZG9jdW1lbnQKRG9jdW1lbnQKcQApgXEBfXECWAUAAABfZGF0YXEDY2RvY2FycmF5LmRvY3VtZW50LmRhdGEKRG9jdW1lbnREYXRhCnEEKYFxBX1xBihYDgAAAF9yZWZlcmVuY2VfZG9jcQdoAVgCAAAAaWRxCFggAAAAZmZjNTY3ODg3MzAyMTFlY2E4NjMxZTAwOGEzNjZkNDlxCVgJAAAAcGFyZW50X2lkcQpOWAsAAABncmFudWxhcml0eXELTlgJAAAAYWRqYWNlbmN5cQxOWAYAAABidWZmZXJxDU5YBAAAAGJsb2JxDk5YCQAAAG1pbWVfdHlwZXEPWAoAAAB0ZXh0L3BsYWlucRBYBAAAAHRleHRxEVgFAAAAaGVsbG9xElgHAAAAY29udGVudHETTlgGAAAAd2VpZ2h0cRROWAMAAAB1cmlxFU5YBAAAAHRhZ3NxFk5YBgAAAG9mZnNldHEXTlgIAAAAbG9jYXRpb25xGE5YCQAAAGVtYmVkZGluZ3EZXXEaKEsBSwJLA2VYCAAAAG1vZGFsaXR5cRtOWAsAAABldmFsdWF0aW9uc3EcTlgGAAAAc2NvcmVzcR1OWAYAAABjaHVua3NxHk5YBwAAAG1hdGNoZXNxH051YnNiLg==
</pre></div>
</div>
<p>You can set <code class="docutils literal notranslate"><span class="pre">protocol</span></code> and <code class="docutils literal notranslate"><span class="pre">compress</span></code> to get a more compact string:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docarray</span> <span class="kn">import</span> <span class="n">Document</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">to_base64</span><span class="p">()))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">to_base64</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s1">&#39;protobuf&#39;</span><span class="p">,</span> <span class="n">compress</span><span class="o">=</span><span class="s1">&#39;lz4&#39;</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>664
156
</pre></div>
</div>
<p>Note that the same <code class="docutils literal notranslate"><span class="pre">protocol</span></code> and <code class="docutils literal notranslate"><span class="pre">compress</span></code> must be followed when using <code class="docutils literal notranslate"><span class="pre">.from_base64</span></code>.</p>
</section>
<section id="from-to-dict">
<span id="doc-dict"></span><h2>From/to dict<a class="headerlink" href="#from-to-dict" title="Permalink to this headline">#</a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This feature requires <code class="docutils literal notranslate"><span class="pre">protobuf</span></code> or <code class="docutils literal notranslate"><span class="pre">pydantic</span></code> dependency. You can do <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">&quot;docarray[full]&quot;</span></code> to install it.</p>
</div>
<p>You can serialize a Document as a Python <code class="docutils literal notranslate"><span class="pre">dict</span></code> via <a class="reference internal" href="../../../api/docarray.document.mixins.porting/#docarray.document.mixins.porting.PortingMixin.to_dict" title="docarray.document.mixins.porting.PortingMixin.to_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_dict()</span></code></a>, and then read from it via <a class="reference internal" href="../../../api/docarray.document.mixins.porting/#docarray.document.mixins.porting.PortingMixin.from_dict" title="docarray.document.mixins.porting.PortingMixin.from_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_dict()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docarray</span> <span class="kn">import</span> <span class="n">Document</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">d_as_dict</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello, world&#39;</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d_as_dict</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">d_as_dict</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{&#39;id&#39;: &#39;5596c84c77b711ecafed1e008a366d49&#39;, &#39;parent_id&#39;: None, &#39;granularity&#39;: None, &#39;adjacency&#39;: None, &#39;blob&#39;: None, &#39;tensor&#39;: None, &#39;mime_type&#39;: &#39;text/plain&#39;, &#39;text&#39;: &#39;hello, world&#39;, &#39;weight&#39;: None, &#39;uri&#39;: None, &#39;tags&#39;: None, &#39;offset&#39;: None, &#39;location&#39;: None, &#39;embedding&#39;: [1, 2, 3], &#39;modality&#39;: None, &#39;evaluations&#39;: None, &#39;scores&#39;: None, &#39;chunks&#39;: None, &#39;matches&#39;: None} 

&lt;Document (&#39;id&#39;, &#39;mime_type&#39;, &#39;text&#39;, &#39;embedding&#39;) at 5596c84c77b711ecafed1e008a366d49&gt;
</pre></div>
</div>
<p>As the intermediate step of <code class="docutils literal notranslate"><span class="pre">to_json()</span></code>/<code class="docutils literal notranslate"><span class="pre">from_json()</span></code> it is unlikely to use dict IO directly. Nonetheless, you can pass the same <code class="docutils literal notranslate"><span class="pre">protocol</span></code> and <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> as described in <a class="reference internal" href="#doc-json"><span class="std std-ref">From/to JSON</span></a> to control the serialization behavior.</p>
</section>
<section id="from-to-protobuf">
<h2>From/to Protobuf<a class="headerlink" href="#from-to-protobuf" title="Permalink to this headline">#</a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This feature requires <code class="docutils literal notranslate"><span class="pre">protobuf</span></code> dependency. You can do <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">&quot;docarray[full]&quot;</span></code> to install it.</p>
</div>
<p>You can also serialize a Document object into a Protobuf Message object. This is less frequently used as it is often an intermediate step when serializing into bytes, as in <code class="docutils literal notranslate"><span class="pre">to_dict()</span></code>. However, if you work with Python Protobuf API, having a Python Protobuf Message object at hand can be useful.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docarray</span> <span class="kn">import</span> <span class="n">Document</span>

<span class="n">d_proto</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="s1">&#39;apple.jpg&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">to_protobuf</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">d_proto</span><span class="p">),</span> <span class="n">d_proto</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="o">.</span><span class="n">from_protobuf</span><span class="p">(</span><span class="n">d_proto</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;docarray_pb2.DocumentProto&#39;&gt; 

id: &quot;d66463b46d6a11ecbf891e008a366d49&quot;
uri: &quot;apple.jpg&quot;
mime_type: &quot;image/jpeg&quot;

&lt;Document (&#39;id&#39;, &#39;mime_type&#39;, &#39;uri&#39;) at e4b215106d6a11ecb28b1e008a366d49&gt;
</pre></div>
</div>
<p>One can refer to the <a class="reference internal" href="../../../proto/"><span class="doc std std-doc">Protobuf specification of <code class="docutils literal notranslate"><span class="pre">Document</span></code></span></a> for details.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">.tensor</span></code> or <code class="docutils literal notranslate"><span class="pre">.embedding</span></code> contains frameworks-specific ndarray-like object, you can use <code class="docutils literal notranslate"><span class="pre">.to_protobuf(...,</span> <span class="pre">ndarray_type='numpy')</span></code> or <code class="docutils literal notranslate"><span class="pre">.to_protobuf(...,</span> <span class="pre">ndarray_type='list')</span></code> to cast them into <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> automatically. This will help to ensure the maximum compatability between different microservices.</p>
</section>
<section id="what-s-next">
<h2>What’s next?<a class="headerlink" href="#what-s-next" title="Permalink to this headline">#</a></h2>
<p>Serializing single Document can be useful but often we want to do things in bulk, say hundreds or one million Documents at once. In that case, looping over each Document and serializing one by one is inefficient. In DocumentArray, we will introduce the similar interfaces <a class="reference internal" href="../../../api/docarray.array.mixins.io.binary/#docarray.array.mixins.io.binary.BinaryIOMixin.to_bytes" title="docarray.array.mixins.io.binary.BinaryIOMixin.to_bytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_bytes()</span></code></a>, <a class="reference internal" href="../../../api/docarray.array.mixins.io.json/#docarray.array.mixins.io.json.JsonIOMixin.to_json" title="docarray.array.mixins.io.json.JsonIOMixin.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_json()</span></code></a>, and <a class="reference internal" href="../../../api/docarray.array.mixins.io.json/#docarray.array.mixins.io.json.JsonIOMixin.to_list" title="docarray.array.mixins.io.json.JsonIOMixin.to_list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_list()</span></code></a> that allows one to <a class="reference internal" href="../../documentarray/serialization/"><span class="doc std std-doc">serialize multiple Documents much faster and more compact</span></a>.</p>
</section>
</section>

            </article>
            <footer>
                
                <div class="related-pages">
                    <a class="next-page" href="../attribute/">
                        <div class="page-info">
                            <div class="context">
                                <span>Next</span>
                            </div>
                            <div class="title">Access Attributes</div>
                        </div>
                        <svg>
                            <use href="#svg-arrow-right"></use>
                        </svg>
                    </a>
                    <a class="prev-page" href="../construct/">
                        <svg>
                            <use href="#svg-arrow-right"></use>
                        </svg>
                        <div class="page-info">
                            <div class="context">
                                <span>Previous</span>
                            </div>
                            
                            <div class="title">Construct</div>
                            
                        </div>
                    </a>
                </div>

                <div class="bottom-of-page">

                    <div class="left-details">
                        <div class="copyright">
                            <a href="https://jina.ai">Copyright &#169; Jina AI Limited. All rights reserved.</a>
                        </div>
                        <div class="last-updated">
                            Last updated on Oct 25, 2022.
                        </div>
                    </div>
                    <div class="right-details">
                        <div class="social-btns">
                            <a class='social-btn' href="https://github.com/jina-ai/docarray/" aria-label="GitHub"
                               target="_blank" rel="noreferrer"> <i class="fab fa-github"></i></a>
                            <a class='social-btn' href="https://slack.jina.ai" aria-label="Slack" target="_blank"
                               rel="noreferrer"> <i class="fab fa-slack"></i></a>
                            <a class='social-btn' href="https://youtube.com/c/jina-ai" aria-label="YouTube"
                               target="_blank" rel="noreferrer"> <i class="fab fa-youtube"></i></a>
                            <a class='social-btn' href="https://twitter.com/JinaAI_" aria-label="Twitter"
                               target="_blank" rel="noreferrer"> <i class="fab fa-twitter"></i></a>
                            <a class='social-btn' href="https://www.linkedin.com/company/jinaai/" aria-label="LinkedIn"
                               target="_blank" rel="noreferrer"> <i class="fab fa-linkedin"></i></a>
                        </div>
                    </div>
                </div>
                
            </footer>
        </div>
        <aside class="toc-drawer" id="toc-drawer">
            

            <div class="toc-sticky toc-scroll">
                
                <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
                </div>
                <div class="toc-tree-container">
                    <div class="toc-tree">
                        <ul>
<li><a class="reference internal" href="#">Serialization</a><ul>
<li><a class="reference internal" href="#from-to-json">From/to JSON</a><ul>
<li><a class="reference internal" href="#from-to-arbitrary-json">From/to arbitrary JSON</a></li>
</ul>
</li>
<li><a class="reference internal" href="#from-to-bytes">From/to bytes</a></li>
<li><a class="reference internal" href="#from-to-base64">From/to base64</a></li>
<li><a class="reference internal" href="#from-to-dict">From/to dict</a></li>
<li><a class="reference internal" href="#from-to-protobuf">From/to Protobuf</a></li>
<li><a class="reference internal" href="#what-s-next">What’s next?</a></li>
</ul>
</li>
</ul>

                    </div>
                </div>
                
            </div>

            
        </aside>

    </div>
    <qa-bot
            title="DocArray Bot"
            description="The data structure for unstructured data"
    >
        <dl>
            <dt>You can ask questions about our docs. Try:</dt>
            <dd>What is a DocumentArray?</dd>
            <dd>How to use docarray with Jina?</dd>
            <dd>How to find nearest neighbour of Documents?</dd>
        </dl>
    </qa-bot>
</div>
<img referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=2823e771-0e1e-4320-8fde-48bc48e53262" /><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/tabs.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() { 
            document.querySelector('qa-bot').setAttribute('server', 'https://jina-ai-docarray.docsqa.jina.ai');
        });
        </script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qabot@0.4"></script>
    </body>
</html>